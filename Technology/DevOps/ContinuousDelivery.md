#持续交付- 发布可靠软件的系统方法

##总结

P4：特点：尽量做到每一章（甚至每一节）都相对独立，可以分开阅读，以便你可以把这本书当做一本工具书来用。  就可以从不同的地方开始阅读它。

##摘录


-   P2：本书的书名《持续交付》就来源于敏捷宣言的第一原则：“我们的首要任务是尽早持续交付有价值的软件并让客户
    满意。  
-   P5：每个人都应该使用自动化部署过程，而且它应该是软件部署的唯一方式。这个准则可以确保：在需要部署时，部署脚本就能完成工作。在本书中我们会提到多个原则，而其中之一就是“使用相同的脚本将软件部署到各种环境上”。如果使用相同的脚本将软件部署到各类环境中，那么在发布当天需要向生产环境进行部署时，这个脚本已经被验证过成百上千次了。如果发布时出现任何问题的话，你可以百分百地确定是该环境的具体配置问题，而不是这个脚本的问题。
-   P10，什么是反馈流程？
  它是指完全以自动化方式尽可能地测试每一次变更。根据系统的不同，测试会有所不同，但通常至少包括下面的检测。 快速反馈的关键是自动化。

  -   创建可执行代码的流程必须是能奏效的。这用于验证源代码是否符合语法。
  -   软件的单元测试必须是成功的。这可以检查应用程序的行为是否与期望相同。
  -   软件应该满足一定的质量标准，比如测试覆盖率以及其他与技术相关的度量项。软件的功能验收测试必须是成功的。这可以检查应用是否满足业务验收条件，交付了所期望的业务价值。
  -   软件的非功能测试必须是成功的。这可以检查应用程序是否满足用户对性能、有效性、安全性等方面的要求。
  -   软件必须通过了探索性测试，并给客户以及部分用户做过演示。这些通常在一个手工测试环境上完成。此时，产品负责人可能认为软件功能还有缺失，我们自己也可能发现需要修复的缺陷，还要为其写自动化测试来避免回归测试。
  -   运行测试的这些环境应该尽可能与生产环境相似，从而验证对于环境的任何修改都不会影响应用程序的正常运行
- P18：每次提交代码都可能产生一个可发布的版本
- P28：使用多个分支开发，然后就将其合并到主干，我们对这样的做法持反对意见，除非是第14章提到的那三种例外情况。  
    - 它违背了持续集成的宗旨，因为创建分支的做法推迟了新功能的整合，只有当该分支被合并时才可能发现集成问题。
    - 如果多个开发者同时分别创建了多个分支，问题会成指数增加，而合并过程也会极其复杂。
    - 尽管有一些好用的工具有自动合并功能，但它们无法解决语义冲突。例如，某人在一个分支上重命名了一个方法，而另一个人在另一分支上对该方法增加了一次调用。
    - 它让重构代码库变得非常困难，因为分支往往涉及多个文件，会让合并变得更加困难。
-   P29：验证你没有引入明显的回归缺陷 。很多持续集成服务器都提供名为“预测试提交”（ pretested commit）的功能，让你在提交之前可以在类生产环境中执行这些测试 。
-   P32：根据我们的经验，“修改配置信息的风险要比修改代码的风险低”这句话就是个错觉。如果使用修改源代码的方式，可以有多种方式来保证质量，比如编译器会帮我们查语法错误，自动化测试可以拦截很多其他方面的错误。然而，大多数配置信息是没有格式检查，且未经测试的。  
-   P69: Happy Path,对于每个需求或用户故事来说，根据用户执行的动作，一定会找到应用程序中一个中规中矩的执行路径，这称为Happy Path.(补充说明：**乐观路线测试**的目标是在正常流程上成功测试应用。它不会考虑各种负面或异常情况。重点只关注于验证应用在有效和合法输入的条件下生成期望的输出. 比如银行付款，只考虑账户有钱的正常状态)
-   P72: 部署测试用于检查部署过程是否正常。换句话说，就是应用程序是否被正确地安装、配置，是否能与所需的服务正确通信，并得到相应的回应.
-   P72:一种非常重要的面向业务且评价项目的测试是演示。在每个迭代结束时敏捷开发团队都向用户演示其开发完成的新功能。  
-   P77：遗留系统的定义：没有自动化测试的系统就是遗留系统 
-   P82：测试主要是建立反馈环，而这个反馈环会驱动开发、设计和发布等活动。  
-   P93: 缓解软件发布风险的最好方法之一,能够使用相同的脚本向开发环境和生产环境部署，是避免“它在我的机器上可以工作”病症的法宝  
-   P96:最重要的是要接受这样的思想：每次提交代码到版本控制系统中后，都能够构建成功并通过所有的测试。  
-   P194：容量测试。一个比较好的方法是能用已有的验收测试，做一定的调整，使它们变成容量测试。  
-   P216：限编程的座右铭： 如果它令你很受伤，那么就做更多的练习（ If it hurts, do it more often）。  
-   P217：部署流水线就是为了创建一个可重复的、可靠的自动化系统，把修改的代码尽快放到生产环境中。这就是用最高质量的流程创建最高质量的软件。顺着这个思路和方向，可以大大地减少发布流程中的风险。持续部署把这种方法作为它的必然结论。一定要认真对待这件事，因为它代表了软件的方式交付模式的转变。  
-   P264:每次对数据库进行修改时，你需要创建两个脚本：一个是将数据库从版本x升级到版本x+1（升级脚本），一个是将数据库版本x+1降级到版本x（回滚脚本）.
-   

























